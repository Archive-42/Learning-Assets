<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
    <meta name="GENERATOR" content="Mozilla/4.0 [en] (WinNT; I) [Netscape]" />
    <title>Processing Sequential Files</title>
  </head>
  <body
    text="#000000"
    bgcolor="#FFFFFF"
    link="#0000FF"
    vlink="#FF0000"
    alink="#009B00"
  >
    <table border="1" width="715">
      <tr>
        <td>
          <table width="710" cellpadding="4" cellspacing="0" border="0">
            <tr>
              <td
                valign="top"
                align="left"
                width="700"
                bgcolor="#FFFFFF"
                colspan="2"
              >
                <center>
                  <h2>
                    <img
                      src="/cobol/course/Resources/pics/t-CobolTut.gif"
                      width="173"
                      height="59"
                    />
                  </h2>
                </center>
                <center>
                  <h2><b>Processing Sequential Files</b></h2>
                  <hr />
                </center>
                <table border="0" width="700" vspace="15">
                  <tr>
                    <td width="3%" valign="TOP">&nbsp;</td>
                    <td width="4%" valign="TOP">
                      <img
                        src="Resources/pics/BallGreenG.gif"
                        hspace="4"
                        height="13"
                        width="13"
                        align="TOP"
                        vspace="4"
                      />
                    </td>
                    <td width="93%">
                      <b><a href="#intro" target="">Introduction</a><br /> </b
                      ><font size="-1"
                        >Unit aims, objectives, prerequisites.</font
                      ><br />
                      <br />
                    </td>
                  </tr>
                  <tr>
                    <td width="3%" valign="TOP">&nbsp;</td>
                    <td width="4%" valign="TOP">
                      <img
                        src="Resources/pics/BallGreenG.gif"
                        hspace="4"
                        height="13"
                        width="13"
                        align="TOP"
                        vspace="4"
                      />
                    </td>
                    <td width="93%" valign="top">
                      <p>
                        <b
                          ><a href="#part1" target="">Organization and Access</a
                          ><br /> </b
                        ><font size="-1"
                          >This section introduces the concepts of file
                          organization and access. It describes how Sequential
                          files are organized and introduces the idea of ordered
                          and unordered Sequential files.</font
                        ><br />
                        <br />
                      </p>
                    </td>
                  </tr>
                  <tr>
                    <td width="3%" valign="TOP" height="48">&nbsp;</td>
                    <td width="4%" valign="TOP" height="48">
                      <img
                        src="Resources/pics/BallGreenG.gif"
                        hspace="4"
                        height="13"
                        width="13"
                        align="TOP"
                        vspace="4"
                      />
                    </td>
                    <td width="93%" valign="top" height="48">
                      <div align="left">
                        <p>
                          <b
                            ><a href="#part2" target=""
                              >Processing unordered Sequential files </a
                            ><br /> </b
                          ><font size="-1"
                            >This section explores the processing restrictions
                            of unordered Sequential files. It demonstrates that,
                            while records can be easily added to unordered
                            files, deleting and updating records is not really
                            feasible.<br /> </font
                          ><font size="-1">
                            <br />
                          </font>
                        </p>
                      </div>
                    </td>
                  </tr>
                  <tr>
                    <td width="3%" valign="TOP">&nbsp;</td>
                    <td width="4%" valign="TOP">
                      <img
                        src="Resources/pics/BallGreenG.gif"
                        hspace="4"
                        height="13"
                        width="13"
                        align="TOP"
                        vspace="4"
                      />
                    </td>
                    <td width="93%">
                      <div align="left">
                        <b
                          ><a href="#part3" target=""
                            >Processing ordered Sequential files</a
                          ><br /> </b
                        ><font size="-1"
                          >This section demonstrates how to use a file of
                          batched transactions to insert (add), delete and
                          update records in an ordered Sequential file..<br />
                        </font>
                        <br />
                      </div>
                    </td>
                  </tr>
                </table>
                <hr />
              </td>
            </tr>
            <tr>
              <td
                valign="top"
                align="LEFT"
                width="700"
                bgcolor="#993300"
                colspan="2"
              >
                <h2 align="CENTER">
                  <font color="#FFFF00"
                    ><a name="intro"></a
                    ><font face="Arial, Helvetica, sans-serif"
                      >Introduction</font
                    ></font
                  >
                </h2>
              </td>
            </tr>
            <tr>
              <td valign="top" width="175" bgcolor="#FFFFCC" height="172">
                <h4>
                  <font color="#993300" face="Arial, Helvetica, sans-serif"
                    >Aims</font
                  >
                </h4>
              </td>
              <td width="540" valign="top" height="172">
                <div align="center">
                  <p align="left">
                    The records in a Sequential file are organized serially, one
                    after another, but the records in the file may be ordered or
                    unordered. The serial organization of the file and whether
                    the file is ordered or unordered has a significant baring on
                    how we process the records in the file and what kind of
                    processing we can do.
                  </p>
                  <p align="left">
                    This tutorial examines the consequences of ordering and
                    organization and reviews some techniques for processing
                    Sequential files.
                  </p>
                </div>
                <div align="center">
                  <center></center>
                  <hr width="50%" />
                </div>
              </td>
            </tr>
            <tr>
              <td
                valign="top"
                align="LEFT"
                width="175"
                bgcolor="#FFFFCC"
                height="135"
              >
                <h4>
                  <font color="#800000" face="Arial, Helvetica, sans-serif"
                    >Objectives</font
                  >
                </h4>
              </td>
              <td width="540" valign="top" height="135">
                <p>By the end of this unit you should -</p>
                <ol>
                  <li>Understand how Sequential files are organized.</li>
                  <li>
                    Understand the processing limitations imposed by an
                    unordered Sequential file
                  </li>
                  <li>
                    Be able to add, delete and update records in an ordered
                    Sequential file.
                  </li>
                </ol>
                <hr width="50%" />
              </td>
            </tr>
            <tr>
              <td
                valign="top"
                align="LEFT"
                width="175"
                bgcolor="#FFFFCC"
                height="77"
              >
                <h4>
                  <font color="#800000" face="Arial, Helvetica, sans-serif"
                    >Prerequisites</font
                  >
                </h4>
              </td>
              <td width="525" height="77" valign="top">
                <p>Introduction to COBOL</p>
                <p>Declaring data in COBOL</p>
                <p>Basic Procedure Division Commands</p>
                <p>Selection Constructs</p>
                <p>Iteration Constructs</p>
                <p>Introduction to Sequential files</p>
                <p>&nbsp;</p>
              </td>
            </tr>
            <tr>
              <td
                valign="top"
                align="left"
                width="700"
                bgcolor="#FFFFFF"
                colspan="2"
              >
                <div align="center">
                  <hr width="100%" />
                  <p>
                    <a href="#top">
                      <img
                        src="Resources/pics/i-pagetop.gif"
                        width="132"
                        height="38"
                        border="0"
                    /></a>
                  </p>
                </div>
              </td>
            </tr>
            <tr>
              <td
                valign="top"
                align="LEFT"
                width="700"
                bgcolor="#993300"
                colspan="2"
              >
                <h2 align="CENTER">
                  <font color="#FFFF00"
                    ><a name="part1"></a
                    ><font face="Arial, Helvetica, sans-serif"
                      >Organization and Access</font
                    ></font
                  >
                </h2>
              </td>
            </tr>
            <tr>
              <td valign="TOP" align="LEFT" width="175" bgcolor="#FFFFCC">
                <h4>
                  <font color="#800000" face="Arial, Helvetica, sans-serif"
                    >Introduction</font
                  >
                </h4>
              </td>
              <td width="525" valign="top">
                <div align="center">
                  <p align="left">
                    Two important characteristics of files are
                    <i>Data Organization</i> and <i>Method of Access</i><b>.</b>
                  </p>
                  <p align="left">
                    <i>Data organization</i>, refers to the way the records of
                    the file are organized on the backing storage device. COBOL
                    recognizes three main file organizations;
                  </p>
                </div>
                <div align="center"></div>
                <ul>
                  <li>
                    <div align="left">
                      Sequential - Records organized serially.
                    </div>
                  </li>
                  <li>
                    <div align="left">
                      Relative - Relative record number based organization.
                    </div>
                  </li>
                  <li>
                    <div align="left">Indexed - Index based organization.</div>
                  </li>
                </ul>
                <div align="center">
                  <p align="left">
                    <i>Method of access</i>, refers to the way in which records
                    are accessed. Some organizations are more versatile than
                    others. A file with an organization of Indexed or Relative
                    may still have its records accessed sequentially; but
                    records in a file with an organization of Sequential, cannot
                    be accessed directly.
                  </p>
                </div>
                <div align="center">
                  <center></center>
                  <hr width="50%" />
                </div>
              </td>
            </tr>
            <tr>
              <td valign="TOP" align="LEFT" width="175" bgcolor="#FFFFCC">
                <h4>
                  <font color="#800000" face="Arial, Helvetica, sans-serif"
                    >Sequential Organization
                  </font>
                </h4>
                <h4>&nbsp;</h4>
                <h4 align="center"><font size="-1"> </font></h4>
              </td>
              <td width="525" valign="top">
                <div align="center">
                  <p align="left">
                    Sequential organization is simplest file organization in
                    COBOL.
                  </p>
                  <p align="left">
                    In a Sequential file the records are arranged serially, one
                    after another, like cards in a dealing shoe. The only way to
                    access records in a Sequential file, is serially. A program
                    must start at the first record and read all the succeeding
                    records until the required record is found or until the end
                    of the file is reached.
                  </p>
                  <p align="left">
                    Sequential files may be <i>Ordered</i> or
                    <i>Unordered</i> (these should be called Serial files). The
                    ordering of the records in a file has a significant impact
                    on the way in which it is processed and the processing that
                    can be done on it.
                  </p>
                </div>
                <div align="left">
                  <hr width="50%" />
                  <p>&nbsp;</p>
                </div>
              </td>
            </tr>
            <tr>
              <td valign="TOP" align="LEFT" width="175" bgcolor="#FFFFCC">
                <h4>
                  <font color="#800000" face="Arial, Helvetica, sans-serif"
                    >Ordered and Unordered files</font
                  >
                </h4>
              </td>
              <td width="525" valign="top">
                <div align="center">
                  <div align="center">
                    <p align="left">
                      In an ordered file, the records are sequenced on some
                      field in the record (like StudentId or StudentName etc).
                      In an unordered file, the records are not in any
                      particular order.
                    </p>
                  </div>
                  <p align="left">&nbsp;</p>
                  <table width="53%" border="1" bgcolor="#E1FFE1">
                    <tr bgcolor="#FFFFCC">
                      <td width="39%">
                        <div align="center"><b>Ordered File</b></div>
                      </td>
                      <td width="40%">
                        <div align="center"><b>Unordered File</b></div>
                      </td>
                    </tr>
                    <tr>
                      <td width="39%">
                        <p align="center">
                          RecordA<br />
                          RecordB<br />
                          RecordG<br />
                          RecordH<br />
                          RecordK<br />
                          RecordM<br />
                          RecordN
                        </p>
                      </td>
                      <td width="40%">
                        <p align="center">
                          RecordM<br />
                          RecordH<br />
                          RecordB<br />
                          RecordN<br />
                          RecordA<br />
                          RecordK<br />
                          RecordG
                        </p>
                      </td>
                    </tr>
                  </table>
                  <p align="center">&nbsp;</p>
                </div>
                <blockquote>
                  <div align="left"></div>
                </blockquote>
                <div align="center"></div>
              </td>
            </tr>
            <tr>
              <td
                valign="top"
                align="left"
                width="700"
                bgcolor="#FFFFFF"
                colspan="2"
              >
                <div align="center">
                  <hr />
                  <p>
                    <a href="#top">
                      <img
                        src="Resources/pics/i-pagetop.gif"
                        width="132"
                        height="38"
                        border="0"
                    /></a>
                  </p>
                </div>
              </td>
            </tr>
            <tr>
              <td
                valign="top"
                align="LEFT"
                width="700"
                bgcolor="#993300"
                colspan="2"
              >
                <h2 align="CENTER">
                  <font color="#FFFF00"
                    ><a name="part2"></a
                    ><font face="Arial, Helvetica, sans-serif"
                      >Processing unordered Sequential Files</font
                    ></font
                  >
                </h2>
              </td>
            </tr>
            <tr>
              <td
                valign="top"
                align="LEFT"
                width="175"
                bgcolor="#FFFFCC"
                height="97"
              >
                <h4 align="left">
                  <font color="#800000" face="Arial, Helvetica, sans-serif"
                    >Introduction</font
                  >
                </h4>
                <p align="left">&nbsp;</p>
              </td>
              <td width="525" valign="top" height="97">
                <p>
                  It is easy to add records to an unordered Sequential file
                  because we can simply add them to the end of the file by
                  opening the file for<font size="-1"> EXTEND</font> (e.g.<font
                    size="-1"
                  >
                    OPEN EXTEND </font
                  >UnorderedFile). But it is not really possible to delete
                  records from an unordered Sequential file. And it is not
                  feasible to update records in an unordered Sequential file.
                </p>
                <hr width="50%" />
                <p>&nbsp;</p>
              </td>
            </tr>
            <tr>
              <td
                valign="top"
                align="LEFT"
                width="175"
                bgcolor="#FFFFCC"
                height="157"
              >
                <h4 align="left">
                  <font color="#800000" face="Arial, Helvetica, sans-serif"
                    >Adding records to an unordered Sequential File</font
                  >
                </h4>
                <h4 align="left">&nbsp;</h4>
                <h4 align="left">&nbsp;</h4>
                <h4 align="left">&nbsp;</h4>
                <h4 align="center">&nbsp;</h4>
              </td>
              <td width="525" valign="top" height="157">
                <p>
                  To add records to an unordered Sequential File the file must
                  be opened for <font size="-1">EXTEND. </font>Opening a file
                  for <font size="-1">EXTEND,</font> positions the Next Record
                  Pointer (NRP) at the end of the file, so that when records are
                  written to the file, they are appended to the end.
                </p>
                <p>
                  The animation below demonstrates how records are added to an
                  unordered file. As in all the examples in this tutorial, the
                  records to be added are contained in a transaction file. The
                  transaction file records are <i>applied</i> to the unordered
                  file and the result is an unordered file that has all the
                  transaction file records appended to the end of it.
                </p>
                <p align="center">
                  <a href="Resources/ppz/TC-SeqFile2a.htm"
                    ><img
                      src="Resources/pics/i-Animation.gif"
                      width="62"
                      height="62"
                      border="0"
                  /></a>
                </p>
                <hr width="50%" />
                <p>&nbsp;</p>
              </td>
            </tr>
            <tr>
              <td
                valign="top"
                align="LEFT"
                width="175"
                bgcolor="#FFFFCC"
                height="173"
              >
                <h4 align="left">
                  <font color="#800000" face="Arial, Helvetica, sans-serif"
                    >Problems with unordered Sequential files</font
                  >
                </h4>
                <h4 align="center">
                  <img
                    src="Resources/pics/i-Detail.gif"
                    width="30"
                    height="37"
                  />
                </h4>
                <p>
                  <font size="-1"
                    >Although it is true that in standard COBOL, Sequential
                    files cannot be deleted or updated &quot;in situ&quot;, many
                    vendors, including Microfocus, allow this for disk based
                    files.</font
                  >
                </p>
                <h4 align="center">&nbsp;</h4>
              </td>
              <td width="525" valign="top" height="173">
                <p>
                  While it is easy to add records to an unordered Sequential
                  file it is not really feasible to delete or update records in
                  an unordered Sequential file.
                </p>
                <p>
                  Records in a Sequential file can not be deleted or updated �in
                  situ�. The only way to <b>delete</b> records from a Sequential
                  file, is to create a new file which does not contain them; and
                  the only way to <b>update</b> records in a Sequential file, is
                  to create a new file which contains the updated records.
                  Because both these operations rely on record matching, they do
                  not work for unordered Sequential files.
                </p>
                <p>&nbsp;</p>
                <hr width="50%" />
                <p>&nbsp;</p>
              </td>
            </tr>
            <tr>
              <td
                valign="top"
                align="LEFT"
                width="175"
                bgcolor="#FFFFCC"
                height="433"
              >
                <h4 align="left">
                  <font color="#800000" face="Arial, Helvetica, sans-serif"
                    >Record matching
                  </font>
                </h4>
              </td>
              <td width="525" valign="top" height="433">
                <p>
                  Updates to Sequential files are normally done in batch mode.
                  That is, all the updates are gathered together into a
                  transaction file, and then applied to the target file in one
                  go. The target file is often called the <i>master file.</i>
                </p>
                <p>
                  There are few problems if we are just adding records to the
                  end of a file, but if we want to update or delete records,
                  then there must be some way of identifying the record we want
                  to update or delete. A &quot;key field&quot; is normally used
                  to achieve this.
                </p>
                <p>
                  A key field, is a field in the record whose value is unique to
                  that record. For instance, in a student record, the StudentId
                  is normally used as the key field. Without a key field to
                  identify the record we require, we cannot delete or update
                  records.
                </p>
                <p>
                  When we apply delete or update transaction records to a master
                  file, we compare the key field in the transaction record with
                  that in the master file record. If there is a
                  <i>match, </i> we know we have to update or delete the master
                  file record.
                </p>
                <p>
                  If both files are ordered on the key field, then this
                  <i>record matching</i> operation functions correctly, but if
                  either the transaction or the master file is unordered, record
                  matching cannot work.
                </p>
                <hr width="50%" />
                <p>&nbsp;</p>
              </td>
            </tr>
            <tr>
              <td
                valign="TOP"
                align="LEFT"
                width="175"
                bgcolor="#FFFFCC"
                height="177"
              >
                <h4>
                  <font color="#800000" face="Arial, Helvetica, sans-serif"
                    >Attempting to batch delete records in an unordered
                    file.</font
                  >
                </h4>
                <p>&nbsp;</p>
              </td>
              <td width="525" valign="top" height="177">
                <div align="center">
                  <p align="left">
                    Suppose we have an unordered transaction file and an
                    unordered master file. The transaction file contains records
                    which indicate which records in the master file we want to
                    delete. To delete the records we need to create a new master
                    file which does not contain the deleted records.
                  </p>
                  <p align="left">
                    The animation below demonstrates what happens when we
                    attempt to batch-delete records from an unordered Sequential
                    file.
                  </p>
                  <p align="center">
                    <a href="Resources/ppz/TC-SeqFile2b.htm"
                      ><img
                        src="Resources/pics/i-Animation.gif"
                        width="62"
                        height="62"
                        border="0"
                    /></a>
                  </p>
                </div>
                <blockquote>&nbsp;</blockquote>
                <div align="center">
                  <div align="left"></div>
                </div>
                <div align="center">
                  <center></center>
                  <hr width="50%" />
                  <p>&nbsp;</p>
                </div>
              </td>
            </tr>
            <tr>
              <td
                valign="top"
                align="left"
                width="700"
                bgcolor="#FFFFFF"
                colspan="2"
              >
                <div align="center">
                  <hr />
                  <p>
                    <a href="#top">
                      <img
                        src="Resources/pics/i-pagetop.gif"
                        width="132"
                        height="38"
                        border="0"
                    /></a>
                  </p>
                </div>
              </td>
            </tr>
            <tr>
              <td
                valign="top"
                align="LEFT"
                width="700"
                bgcolor="#993300"
                colspan="2"
              >
                <h2 align="CENTER">
                  <font color="#FFFF00"
                    ><a name="part3"></a
                    ><font face="Arial, Helvetica, sans-serif"
                      >Processing Ordered Sequential Files</font
                    ></font
                  >
                </h2>
              </td>
            </tr>
            <tr>
              <td valign="top" align="LEFT" width="175" bgcolor="#FFFFCC">
                <h4 align="left">
                  <font color="#800000" face="Arial, Helvetica, sans-serif"
                    >Introduction</font
                  >
                </h4>
              </td>
              <td width="525" valign="top">
                <p>
                  An ordered Sequential file, is a file ordered upon some key
                  field. The ordering of the records in the file makes it
                  possible to process an ordered file in ways that are not
                  available to us with unordered files. While it is not really
                  possible to apply batch updates or deletes to an unordered
                  file these are possible with ordered files.
                </p>
                <hr width="50%" />
                <p>&nbsp;</p>
              </td>
            </tr>
            <tr>
              <td
                valign="TOP"
                align="LEFT"
                width="175"
                bgcolor="#FFFFCC"
                height="389"
              >
                <h4 align="left">
                  <font color="#800000" face="Arial, Helvetica, sans-serif"
                    >Inserting records into an ordered Sequential file.</font
                  >
                </h4>
              </td>
              <td width="525" valign="top" height="389">
                <p align="left">
                  To add records to an ordered file a major consideration is to
                  preserve the ordering. This means that the record must be
                  inserted into the file in the correct position. It can't just
                  be added to the end of the file as it can with unordered
                  files.
                </p>
                <p align="left">
                  As with all changes to ordered Sequential files we can't just
                  insert the records into the existing file. To insert records
                  into the file we have to create a new file that contains the
                  inserted records.
                </p>
                <p align="left">
                  The animation below demonstrates how records are inserted into
                  an ordered Sequential file.
                </p>
                <p align="center">
                  <a href="Resources/ppz/TC-SeqFile2c.htm"
                    ><img
                      src="Resources/pics/i-Animation.gif"
                      width="62"
                      height="62"
                      border="0"
                  /></a>
                </p>
                <p align="left">&nbsp;</p>
                <blockquote>
                  <div align="left"></div>
                </blockquote>
                <hr width="50%" />
                <p>&nbsp;</p>
              </td>
            </tr>
            <tr>
              <td
                valign="TOP"
                align="LEFT"
                width="175"
                bgcolor="#FFFFCC"
                height="536"
              >
                <h4 align="left">
                  <font color="#800000" face="Arial, Helvetica, sans-serif"
                    >Self Assessment questions</font
                  >
                </h4>
                <h4 align="left">&nbsp;</h4>
                <h4 align="center">
                  <img
                    src="Resources/pics/ProgFrag.gif"
                    width="48"
                    height="44"
                  />
                </h4>
                <h4 align="left">&nbsp;</h4>
                <h4 align="left">&nbsp;</h4>
                <h4 align="left">&nbsp;</h4>
                <h4 align="left">&nbsp;</h4>
                <h4 align="left">&nbsp;</h4>
                <h4 align="center">
                  <img src="Resources/pics/i-SAQ2.gif" width="32" height="46" />
                </h4>
              </td>
              <td width="525" valign="top" height="536">
                <p>
                  The main processing loop from the animation is shown below.
                  Examine the code in this program fragment and then attempt to
                  answer the questions below.
                </p>
                <table
                  width="392"
                  border="1"
                  align="center"
                  cellpadding="5"
                  background="Resources%5Cpics%5Ccode.gif"
                >
                  <tr valign="top">
                    <td height="188">
                      <pre>
PERFORM UNTIL EndTF AND EndMF  
  IF TFKey < MFKey
     MOVE TFRec TO NFRec
     WRITE NFRec
     READ TF etc.
   ELSE
     IF TFKey > MFKey
       MOVE MFRec TO NFRec
       WRITE NFRec
       READ MF etc.
     END-IF
  END-IF
END-PERFORM
</pre
                      >
                    </td>
                  </tr>
                </table>
                <p>&nbsp;</p>
                <form method="post" action="SequentialFiles2.htm">
                  <table
                    width="96%"
                    border="1"
                    bgcolor="#FFFFCC"
                    align="center"
                  >
                    <tr>
                      <td width="8%" bgcolor="#FFFFCC">Q1</td>
                      <td width="62%" valign="top" bgcolor="#E1FFE1">
                        In the program, no allowance has been made for when the
                        key fields are equal. What would it mean if the keys
                        were equal?
                      </td>
                      <td width="30%" valign="top" bgcolor="#E1FFE1">
                        <select name="select" size="1">
                          <option selected>
                            Click the arrow for the answer
                          </option>
                          <option>
                            ---------------------------------------------------------------
                          </option>
                          <option>Since the key field is supposed to</option>
                          <option>be unique this would be a transaction</option>
                          <option>
                            error. It would mean that we were trying
                          </option>
                          <option>to insert a record when a record with</option>
                          <option>that key already exists.</option>
                          <option>
                            Of course, transaction errors do occur
                          </option>
                          <option>so you might want to include code</option>
                          <option>to handle these errors.</option>
                        </select>
                      </td>
                    </tr>
                    <tr>
                      <td width="8%" bgcolor="#FFFFCC">Q2</td>
                      <td width="62%" valign="top" bgcolor="#E1FFE1">
                        Why do you think the complex condition
                        <i>EndTF <b>AND</b> EndMF</i> has been used to terminate
                        the loop?
                      </td>
                      <td width="30%" valign="top" bgcolor="#E1FFE1">
                        <select name="select" size="1">
                          <option selected>
                            Click the arrow for the answer
                          </option>
                          <option>
                            ---------------------------------------------------------------
                          </option>
                          <option>
                            Since we don't know which file is going
                          </option>
                          <option>to be exhausted first we have to use</option>
                          <option>a condition which says - keep going</option>
                          <option>
                            until the end of both files is reached.
                          </option>
                        </select>
                      </td>
                    </tr>
                    <tr>
                      <td width="8%" bgcolor="#FFFFCC">Q3</td>
                      <td width="62%" valign="top" bgcolor="#E1FFE1">
                        There does not seem to be any special code to write out
                        the remaining records when one file ends before the
                        other. Can the code above be correct?
                      </td>
                      <td width="30%" valign="top" bgcolor="#E1FFE1">
                        <select name="select" size="1">
                          <option selected>
                            Click the arrow for the answer
                          </option>
                          <option>
                            ---------------------------------------------------------------
                          </option>
                          <option>Yes the code is correct!!!</option>
                          <option>It takes advantage of the fact that</option>
                          <option>when either condition name is set to</option>
                          <option>true, the corresponding record</option>
                          <option>
                            (including its key field) is filled with
                          </option>
                          <option>HIGH-VALUES. Since the key field of</option>
                          <option>the ended file contains the highest</option>
                          <option>possible value, all the keys in the</option>
                          <option>
                            other file will be less than it and so
                          </option>
                          <option>
                            all the remaining records in that file will
                          </option>
                          <option>
                            automatically be written to the new file.
                          </option>
                          <option>I told you using HIGH-VALUES would</option>
                          <option>come in handy.</option>
                        </select>
                      </td>
                    </tr>
                  </table>
                </form>
                <p>&nbsp;</p>
                <hr width="50%" />
                <p>&nbsp;</p>
              </td>
            </tr>
            <tr>
              <td
                valign="top"
                align="LEFT"
                width="175"
                bgcolor="#FFFFCC"
                height="147"
              >
                <h4 align="left">
                  <font color="#800000" face="Arial, Helvetica, sans-serif"
                    >Deleting records from an ordered Sequential file.</font
                  >
                </h4>
              </td>
              <td width="525" valign="top" height="147">
                <p>
                  The animation below demonstrates how to delete records from an
                  ordered Sequential file.
                </p>
                <p align="center">
                  <a href="Resources/ppz/TC-SeqFile2d.htm"
                    ><img
                      src="Resources/pics/i-Animation.gif"
                      width="62"
                      height="62"
                      border="0"
                  /></a>
                </p>
                <p>&nbsp;</p>
                <hr width="50%" />
                <p>&nbsp;</p>
              </td>
            </tr>
            <tr>
              <td
                valign="top"
                align="LEFT"
                width="175"
                bgcolor="#FFFFCC"
                height="210"
              >
                <h4 align="left">
                  <font color="#800000" face="Arial, Helvetica, sans-serif"
                    >Updating records in an ordered Sequential file.</font
                  >
                </h4>
                <h4 align="center">&nbsp;</h4>
              </td>
              <td width="525" valign="top" height="210">
                <p>
                  Updating a record requires a change to one or more of the
                  fields in the record. Updates to Sequential files are usually
                  collected together and applied to the file in one go - a
                  batch. To update the records in an ordered Sequential file
                  from an ordered batch of transaction records we have to create
                  a new file that contains the updated records.
                </p>
                <p>
                  The animation below demonstrates how to batch-update records
                  in an ordered Sequential files.
                </p>
                <p align="center">
                  <a href="Resources/ppz/TC-SeqFile2e.htm"
                    ><img
                      src="Resources/pics/i-Animation.gif"
                      width="62"
                      height="62"
                      border="0"
                  /></a>
                </p>
                <p align="center">&nbsp;</p>
              </td>
            </tr>
            <tr>
              <td valign="top" align="LEFT" width="175" bgcolor="#FFFFCC">
                <h4 align="left">
                  <font color="#800000" face="Arial, Helvetica, sans-serif"
                    >Multiple record type transaction files</font
                  >
                </h4>
              </td>
              <td width="525" valign="top">
                <p>
                  In all the examples in this tutorial the transaction file has
                  contained only records of one type or another. For instance,
                  the transaction file contained either a batch of deletions, or
                  a batch of insertions or a batch of updates. In real life
                  though all these different kinds of transaction record would
                  be gather together into one transaction file.
                </p>
                <p>
                  This raises some interesting problems. For one thing - the
                  record sizes will be different. A deletion record only needs
                  the key field, while an insertion requires the whole record,
                  and an update may be somewhere between these two depending on
                  how many fields we are updating in one go. There may even be
                  different kinds of update record.
                </p>
                <p>
                  In future tutorials we will see how we can define and process
                  files that contain multiple record types.
                </p>
                <p>&nbsp;</p>
                <hr width="50%" />
                <p>&nbsp;</p>
              </td>
            </tr>

            <tr>
              <td align="left" width="700" bgcolor="#FFFFFF" colspan="2">
                <hr width="100%" />
                <div align="center">
                  <p>
                    <a href="#top">
                      <img
                        src="Resources/pics/i-pagetop.gif"
                        width="132"
                        height="38"
                        border="0"
                    /></a>
                  </p>
                  <hr />
                  <h3 align="center">Copyright Notice</h3>
                  <p align="center">
                    These COBOL course materials are the copyright property of
                    Michael Coughlan.
                  </p>
                  <p align="left">
                    <font size="2"
                      >All rights reserved. No part of these course materials
                      may be reproduced in any form or by any means - graphic,
                      electronic, mechanical, photocopying, printing, recording,
                      taping or stored in an information storage and retrieval
                      system - without the written permission of </font
                    ><font size="2">the author.</font>
                  </p>
                  <p align="center">
                    <font size="2">(c) Michael Coughlan</font>
                  </p>
                  <hr align="left" />
                  <div align="left">
                    <i><font size="-1">Last updated : March 1999</font></i>
                    <br />
                    <font size="-1"
                      ><a href="mailto:michael.coughlan@ul.ie"
                        >e-mail : CSISwebeditor@ul.ie</a
                      ></font
                    >
                  </div>
                </div>
              </td>
            </tr>
          </table>
        </td>
      </tr>
    </table>
  </body>
</html>
